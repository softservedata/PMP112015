using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Threading;

namespace thread
{
    class Program
    {
        public static bool thr1 = true;
        public static bool thr2 = true;
        public static bool thr3 = true;
        public static bool write = true;
        static object locker1 = new object();
        static object locker2 = new object();
        static object locker3 = new object();

        static void Main()

        {

            Thread t = new Thread(WriteY);
            Thread k = new Thread(WriteX);
            Thread l = new Thread(WriteZ);

            t.Start();
            k.Start();
            l.Start();

            Thread.Sleep(1000);
            write = false;
            Thread.Sleep(100);

            kill();

            Thread.Sleep(1000);

            killall();

            Console.ReadLine();

        }

        static void kill()
        {
            //killall();
            Console.WriteLine();
            Console.WriteLine("which thread to kill ?");
            int a= Convert.ToInt32(Console.ReadLine());

            if (a == 1) thr1 = false;
            if (a == 2) thr2 = false;
            if (a == 3) thr3 = false;

            write = true;

        }

        static void killall()
        {
            thr1 = false;
            thr2 = false;
            thr3 = false;
            Console.WriteLine();
            Console.WriteLine("noone left");
        }

        static void ariseall()
        {
            thr1 = true;
            thr2 = true;
            thr3 = true;
        }

        static void WriteX()
        {

            while ((thr1) )
            {
               if(write) Console.Write("x");
            }
            
        }

        static void WriteY()
        {

            while ((thr2))
            {
                if (write) Console.Write("y");
            }

        }

        static void WriteZ()
        {

            while ((thr3))
            {
                if (write) Console.Write("z");
            }


        }

    }
}
