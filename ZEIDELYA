#include <iostream>
#include <vector>

using namespace std;

#define eps 0.002

void main()
{
	int size;
	cout << "Enter size: ";
	cin >> size;

	vector <vector <long double> > matrix;
	matrix.resize(size);
	for (int i = 0; i < size; i++)
	{
		matrix[i].resize(size + 1);

		for (int j = 0; j < size + 1; j++)
		{
			cout << "Enter element[" << i << "][" << j << "]: ";
			cin >> matrix[i][j];
		}
	}

	vector <long double> previousVariableValues(size, 0.0);
	while (true)
	{

		vector <long double> currentVariableValues(size);

		for (int i = 0; i < size; i++)
		{
			currentVariableValues[i] = matrix[i][size];
			for (int j = 0; j < size; j++)
			{
				if (j < i)
				{
					currentVariableValues[i] -= matrix[i][j] * currentVariableValues[j];
				}
				if (j > i)
				{
					currentVariableValues[i] -= matrix[i][j] * previousVariableValues[j];
				}
			}
			currentVariableValues[i] /= matrix[i][i];
		}
		long double error = 0.0;

		for (int i = 0; i < size; i++)
		{
			error += abs(currentVariableValues[i] - previousVariableValues[i]);
		}
		if (error < eps)
		{
			break;
		}
		previousVariableValues = currentVariableValues;
	}

	for (int i = 0; i < size; i++)
	{
		cout << previousVariableValues[i] << endl;
	}

	system("pause");
}
